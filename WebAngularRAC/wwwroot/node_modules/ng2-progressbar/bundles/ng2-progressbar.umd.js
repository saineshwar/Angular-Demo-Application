!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("rxjs/Subject"),require("rxjs/Observable"),require("rxjs/add/observable/timer"),require("rxjs/add/operator/switchMap"),require("rxjs/add/operator/do"),require("rxjs/add/operator/takeWhile"),require("@angular/http")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","rxjs/Subject","rxjs/Observable","rxjs/add/observable/timer","rxjs/add/operator/switchMap","rxjs/add/operator/do","rxjs/add/operator/takeWhile","@angular/http"],t):t(e.ng2Progressbar=e.ng2Progressbar||{},e.ng.core,e.ng.common,e.Rx,e.Rx,e.Rx.Observable,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.ng.http)}(this,function(e,t,n,r,s,i,o,a,p,u){"use strict";var c=function(){function e(){}return e.prototype.barStyles=function(){var e={transition:"all "+this.speed+"ms "+this.ease,backgroundColor:this.color},t=this.state.value?this.toPercentage(this.state.value):{leftToRightIncreased:-100,leftToRightReduced:0,rightToLeftIncreased:100,rightToLeftReduced:0}[this.direction];switch(this.positionUsing){case"translate3d":e=Object.assign({},e,{transform:"translate3d("+t+"%,0,0)","-webkit-transform":"translate3d("+t+"%,0,0)","-moz-transform":"translate3d("+t+"%,0,0)","-o-transform":"translate3d("+t+"%,0,0)","-ms-transform":"translate3d("+t+"%,0,0)"});break;case"translate":e=Object.assign({},e,{transform:"translate("+t+"%,0)","-webkit-transform":"translate("+t+"%,0)","-moz-transform":"translate("+t+"%,0)","-o-transform":"translate("+t+"%,0)","-ms-transform":"translate("+t+"%,0)"});break;default:e=Object.assign({},e,{marginLeft:t+"%"})}return e},e.prototype.shadowStyles=function(){return{boxShadow:"0 0 10px "+this.color+", 0 0 5px "+this.color}},e.prototype.toPercentage=function(e){return 100*{leftToRightIncreased:-1+e,leftToRightReduced:-e,rightToLeftIncreased:1-e,rightToLeftReduced:e}[this.direction]},e.prototype.spinnerClasses=function(){return{leftToRightIncreased:"clockwise",leftToRightReduced:"anti-clockwise",rightToLeftIncreased:"anti-clockwise",rightToLeftReduced:"clockwise"}[this.direction]},e.decorators=[{type:t.Component,args:[{selector:"ng-progress-bar",template:'\n    <div class="ng-progress" *ngIf="state" [class.active]="state.active" [class.thick]="thick">\n      <div class="bar" [ngStyle]="barStyles()">\n        <div class="bar-shadow" [ngStyle]="shadowStyles()"></div>\n      </div>\n      <div *ngIf="showSpinner" class="spinner" [ngClass]="spinnerClasses()">\n        <div class="spinner-icon" [style.borderTopColor]="color" [style.borderLeftColor]="color"></div>\n      </div>\n    </div>\n  ',changeDetection:t.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=[],e.propDecorators={state:[{type:t.Input}],positionUsing:[{type:t.Input}],ease:[{type:t.Input}],speed:[{type:t.Input}],showSpinner:[{type:t.Input}],direction:[{type:t.Input}],thick:[{type:t.Input}],color:[{type:t.Input}]},e}(),d=function(e,t,n){return e<t?t:e>n?n:e},l=function(){function e(){var e=this;this.progress=0,this.maximum=1,this.minimum=.08,this.speed=200,this.trickleSpeed=300,this.state=new r.Subject,this.trickling=new r.Subject,this.trickling.switchMap(function(){return s.Observable.timer(0,e.trickleSpeed).takeWhile(function(){return e.isStarted()}).do(function(){return e.inc()})}).subscribe()}return e.prototype.start=function(){this.isStarted()||this.set(this.minimum),this.trickling.next()},e.prototype.done=function(){this.isStarted()&&(this.set(.3+.5*Math.random()),this.set(this.maximum))},e.prototype.inc=function(e){var t=this.progress;this.isStarted()?("number"!=typeof e&&(e=t>=0&&t<.2?.1:t>=.2&&t<.5?.04:t>=.5&&t<.8?.02:t>=.8&&t<.99?.005:0),t=d(t+e,0,.994),this.set(t)):this.start()},e.prototype.set=function(e){var t=this;if(this.progress=d(e,this.minimum,this.maximum),this.updateState(this.progress,!0),e===this.maximum){var n=function(){t.progress=0,t.updateState(t.progress,!1)},r=function(){t.updateState(t.progress,!1),setTimeout(n,t.speed)};setTimeout(r,this.speed)}},e.prototype.isStarted=function(){return this.progress>0&&this.progress<this.maximum},e.prototype.updateState=function(e,t){this.state.next({value:e,active:t})},e.decorators=[{type:t.Injectable}],e.ctorParameters=[],e}(),h=function(){function e(e){this.ease="linear",this.positionUsing="margin",this.showSpinner=!0,this.direction="leftToRightIncreased",this.color="#CC181E",this.thick=!1,this.maximum=1,this.minimum=.08,this.speed=200,this.trickleSpeed=300,this.progress=e}return e.prototype.ngOnChanges=function(e){var t=e.minimum,n=e.maximum,r=e.speed,s=e.trickleSpeed,i=e.toggle;if(t&&"undefined"!=typeof t.currentValue&&t.currentValue!==t.previousValue){if(t.currentValue<0||t.currentValue>1)throw"Input [minimum] must be between 0 and 1";this.progress.minimum=t.currentValue}if(n&&"undefined"!=typeof n.currentValue&&n.currentValue!==n.previousValue){if(n.currentValue<0||n.currentValue>1)throw"Input [maximum] must be between 0 and 1";this.progress.maximum=n.currentValue}r&&"undefined"!=typeof r.currentValue&&r.currentValue!==r.previousValue&&(this.progress.speed=r.currentValue),s&&"undefined"!=typeof s.currentValue&&s.currentValue!==s.previousValue&&(this.progress.trickleSpeed=s.currentValue),i&&"undefined"!=typeof i.currentValue&&i.currentValue!==i.previousValue&&(i.currentValue?this.progress.start():this.progress.done())},e.prototype.ngOnDestroy=function(){this.progress.state.unsubscribe(),this.progress.trickling.unsubscribe()},e.decorators=[{type:t.Component,args:[{selector:"ng-progress",template:'\n    <ng-progress-bar\n      [speed]="speed"\n      [positionUsing]="positionUsing"\n      [ease]="ease"\n      [showSpinner]="showSpinner"\n      [direction]="direction"\n      [color]="color"\n      [thick]="thick"\n      [state]="progress.state | async"\n    ></ng-progress-bar>\n  ',styles:["\n    :host {\n      pointer-events: none;\n      position: relative;\n      z-index: 65535;\n    }\n\n    .ng-progress {\n      z-index: 1031;\n      top: 0;\n      left: 0;\n      width: 100%;\n      position: fixed;\n      zoom: 1;\n      filter: alpha(opacity=0);\n      opacity: 0;\n      transition: opacity 200ms linear;\n    }\n\n    .active {\n      filter: alpha(opacity=100);\n      opacity: 1;\n      transition: none;\n    }\n\n    .bar {\n      position: absolute;\n      width: 100%;\n      height: 2px;\n    }\n\n    .thick .bar {\n      height: 3px;\n    }\n\n    .bar-shadow {\n      display: block;\n      position: absolute;\n      right: 0;\n      top: -3px;\n      width: 100px;\n      height: 100%;\n      opacity: 1.0;\n      -webkit-transform: rotate(3deg);\n      -ms-transform: rotate(3deg);\n      transform: rotate(3deg);\n    }\n\n\n    .thick .bar-shadow {\n      top: -4px;\n      -webkit-transform: rotate(4deg);\n      -ms-transform: rotate(4deg);\n      transform: rotate(4deg);\n    }\n\n    .thick .spinner-icon {\n      width: 24px;\n      height: 24px;\n      border: solid 3px transparent;\n    }\n\n    /* Remove these to get rid of the spinner */\n    .spinner {\n      display: block;\n      position: fixed;\n      z-index: 1031;\n      top: 15px;\n      right: 15px;\n    }\n\n    .spinner-icon {\n      width: 18px;\n      height: 18px;\n      box-sizing: border-box;\n\n      border: solid 2px transparent;\n      border-radius: 50%;\n\n      -webkit-animation: nprogress-spinner 400ms linear infinite;\n      animation: nprogress-spinner 400ms linear infinite;\n    }\n\n    .anti-clockwise .spinner-icon {\n      -webkit-animation-direction: reverse;\n      animation-direction: reverse;\n    }\n\n    @-webkit-keyframes nprogress-spinner {\n      0% {\n        -webkit-transform: rotate(0deg);\n      }\n      100% {\n        -webkit-transform: rotate(360deg);\n      }\n    }\n\n    @keyframes nprogress-spinner {\n      0% {\n        transform: rotate(0deg);\n      }\n      100% {\n        transform: rotate(360deg);\n      }\n    }\n  "],encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=[{type:l}],e.propDecorators={ease:[{type:t.Input}],positionUsing:[{type:t.Input}],showSpinner:[{type:t.Input}],direction:[{type:t.Input}],color:[{type:t.Input}],thick:[{type:t.Input}],maximum:[{type:t.Input}],minimum:[{type:t.Input}],speed:[{type:t.Input}],trickleSpeed:[{type:t.Input}],toggle:[{type:t.Input}]},e}(),g=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},m=function(e){function n(t){e.call(this),this.service=t,this.currentRequest=0}return g(n,e),n.prototype.build=function(){var t=this,n=e.prototype.build.call(this);return n.onload=function(e){return t.done()},n.onerror=function(e){return t.done()},n.onabort=function(e){return t.done()},n.onloadstart=function(e){t.currentRequest++,t.service.isStarted()||t.service.start()},n},n.prototype.done=function(){this.currentRequest--,0===this.currentRequest&&this.service.done()},n.decorators=[{type:t.Injectable}],n.ctorParameters=[{type:l}],n}(u.BrowserXhr),f=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule],providers:[l,m],declarations:[h,c],exports:[h]}]}],e.ctorParameters=[],e}();e.NgProgressModule=f,e.NgProgressService=l,e.NgProgressCustomBrowserXhr=m,e.ProgressComponent=h,Object.defineProperty(e,"__esModule",{value:!0})});
